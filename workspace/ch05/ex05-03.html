<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì‡¼í•‘ëª©ë¡</title>
    <style>
      div {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 20px;
      }
      button {
        /* outline: none; */
        border: none;
      }
      ul {
        counter-reset: number 0;
      }
    </style>
    <script>
      // html ë¬¸ì„œ ë¡œë”© ì™„ë£Œ(Dom ê°ì²´ ìƒì„±ì™„ë£Œ), ì´ë¯¸ì§€ css ê°™ì€ ì™¸ë¶€ ì»¨í…ì¸  ë¡œë”© í™˜ë£Œ í›„ì— ë°œìƒí•˜ëŠ” ì´ë²¤ë“œ
      window.addEventListener("load", () => {});

      // html ë¬¸ì„œ ë¡œë”© ì™„ë£Œ(DOM ê°ì²´ ìƒì„±ì™„ë£Œ) í›„ì— ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
      document.addEventListener("DOMContentLoaded", () => {
        const btn1 = document.querySelector("div > button"); // ì²«ë²ˆì§¸ ë²„íŠ¼ ì°¾ê¸°
        const btn2 = btn1.nextElementSibling; // ë‘ë²ˆì§¸ ë²„íŠ¼ ì°¾ê¸°
        const btn3 = btn2.nextElementSibling; // ì„¸ë²ˆì§¸ ë²„íŠ¼ ì°¾ê¸°
        const btn4 = btn3.nextElementSibling; // ì„¸ë²ˆì§¸ ë²„íŠ¼ ì°¾ê¸°

        // ì´ë°´íŠ¸ ë“±ë¡ ë°©ë²•
        // 1. elem.on<ì´ë²¤íŠ¸> ì†ì„±ì— ì´ë°´íŠ¸ í•¸ë“¤ëŸ¬ ì¶”ê°€
        btn1.onclick = () => {
          const movies = document.querySelector("#movies");
          // console.log(movies);
          //ìì‹ liì°¾ê³  ê·¸ì¤‘ì— ë‘ë²ˆì§¸ ìš”ì†Œ
          const chsecondLi = movies.getElementsByTagName("li")[1];

          // ì²«ë²ˆì§¸ ì˜í™”ë¥¼ ì°¾ì€ ë‹¤ìŒì— ë‘ë²ˆì§¸ ì˜í™”ë¥¼ ì°¾ê¸°
          const firstLi = movies.firstElementChild;
          const secondLi = firstLi.nextElementSibling;
          console.log(secondLi?.firstChild.nodeValue);
          //textContent: ìš”ì†Œ ë…¸ë“œì˜ ë‚´ë¶€ í…ìŠ¤íŠ¸ë…¸ë“œì˜ ë¬¸ìì—´ ê°’ì„ ê°€ì§€ê³  ìˆëŠ” ì†ì„±
          console.log(secondLi?.textContent);
        };
        // ì´ë°´íŠ¸ ë“±ë¡ ë°©ë²• 3: addEventListener()
        btn4.addEventListener("click", function () {
          const targetList = document.querySelectorAll(".list");
          for (let i = 0; i < targetList.length; i++) {
            const addFirstLi = targetList[i].firstElementChild;

            // ì²«ë²ˆì§¸ í•­ëª© ì‚­ì œ

            // ì‚­ì œë°©ë²•1 : remove()
            // if (addFirstLi) {
            //   // ì²«ë²ˆì§¸ í•­ëª© ì°¾ì•„ì„œ ì½˜ì†”ì— ì¶œë ¥
            //   console.log(addFirstLi.innerHTML);
            //   // ì²«ë²ˆì§¸ í•­ëª©ì´ ì¡´ì œí•˜ë©´ ì‚­ì œ
            //   addFirstLi.remove();
            // }

            // ì‚­ì œë°©ë²•2 : removeChild()
            //addFirstLi?.remove(); // ì˜µì…”ë„ ì²´ì´ë‹ =>

            // ì‚­ì œë°©ë²•3: ë‚˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ì˜ ë¶€ëª¨ìš”ì†Œì°¸ì¡°í•˜ì—¬ ì²«ë²ˆì§¸ìš”ì†Œ ì‚­ì œ
            targetList[i].removeChild(addFirstLi);
          }
        });
      });

      // ë§ˆì§€ë§‰ì— ìš°ìœ  ì¶”ê°€
      function addLastMilk() {
        console.log("ìš°ìœ ì¶”ê°€ ì˜ˆì •");
        const shopingList = document.getElementById("purchases");
        const newLi = document.createElement("li"); // liìš”ì†Œë¥¼ ìƒì„±í•œë‹¤
        const newTxt = document.createTextNode("ìš°ìœ "); // ìš°ìœ ë¼ëŠ” í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤

        // âš ï¸ ì¶”ê°€ ì „ ìƒíƒœ í™•ì¸
        console.log("ì¶”ê°€í•˜ê¸° ì „: ", newLi.childNodes, newLi.firstChild, newLi.lastChild); // (ìì‹ ë…¸ë“œë“¤, ì²« ë²ˆì§¸ ìì‹ ë…¸ë“œ, ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œ)
        console.log("ì¶”ê°€í•˜ê¸° ì „: ", newLi.childNodes, "(ìì‹ìš”ì†Œ)"); // li ìš”ì†Œ ì•ˆì— ìˆëŠ” ìì‹ ë…¸ë“œ ë¦¬ìŠ¤íŠ¸
        console.log("ì¶”ê°€í•˜ê¸° ì „: ", newLi.firstChild, "(ì²«ë²ˆì§¸ ìì‹)"); // ì²« ë²ˆì§¸ ìì‹ ë…¸ë“œ (ì—†ìŒ â†’ null)
        console.log("ì¶”ê°€í•˜ê¸° ì „: ", newLi.lastChild, "(ë§ˆì§€ë§‰ ìì‹)"); // ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œ (ì—†ìŒ â†’ null)
        console.log("-----");

        // âš™ï¸ í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ liì— ì¶”ê°€
        newLi.appendChild(newTxt);

        // âœ… ì¶”ê°€ í›„ ìƒíƒœ í™•ì¸
        console.log("ì¶”ê°€í•œ í›„: ", newLi.childNodes, newLi.firstChild, newLi.lastChild); // (ìì‹ ë…¸ë“œë“¤, ì²« ë²ˆì§¸ ìì‹ ë…¸ë“œ, ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œ)
        console.log("ì¶”ê°€í•œ í›„: ", newLi.childNodes, "(ìì‹ìš”ì†Œ)"); // í…ìŠ¤íŠ¸ ë…¸ë“œ "ìš°ìœ "ê°€ ë“¤ì–´ê°„ ìì‹ ë…¸ë“œ ë¦¬ìŠ¤íŠ¸
        console.log("ì¶”ê°€í•œ í›„: ", newLi.firstChild, "(ì²«ë²ˆì§¸ ìì‹)"); // ì²« ë²ˆì§¸ ìì‹ ë…¸ë“œ â†’ í…ìŠ¤íŠ¸ ë…¸ë“œ "ìš°ìœ "
        console.log("ì¶”ê°€í•œ í›„: ", newLi.lastChild, "(ë§ˆì§€ë§‰ ìì‹)"); // ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œë„ ë™ì¼ â†’ í…ìŠ¤íŠ¸ ë…¸ë“œ "ìš°ìœ "
        console.log("-----");

        // ğŸ§º ì‡¼í•‘ ëª©ë¡ì— lië¥¼ ì¶”ê°€
        shopingList.appendChild(newLi);

        // innerHTML ì†ì„±: ìš”ì†Œë…¸ë“œì˜ ë‚´ë¶€ HTML ì½”ë“œê°’ì„ ë¬¸ìì—´ë¡œ ê°€ì§€ê³  ìˆëŠ” ì†ì„±
        // console.log("innerHTML:", shopingList.innerHTML);
        // console.log("outerHTML:\n ", shopingList.outerHTML);
        /*
        // ì²«ë²ˆì§¸ ë°©ë²•
        const newShopingList = shopingList.innerHTML + "  <li>ìš°ìœ </li>\n\t";
        shopingList.innerHTML = newShopingList;
        */

        // ë‘ë²ˆì§¸ ë°©ë²•
        // shopingList.innerHTML += "  <li>ìš°ìœ </li>\n\t";
      }

      // ë§¨ ì•ì— ìš°ìœ  ì¶”ê°€
      function addFirstMilk() {
        console.log("ìš°ìœ ì¶”ê°€ ì˜ˆì •");
        const shopingList = document.getElementById("purchases");
        const newLi = document.createElement("li"); // liìš”ì†Œë¥¼ ìƒì„±í•œë‹¤
        const newTxt = document.createTextNode("ìš°ìœ "); // ìš°ìœ ë¼ëŠ” í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤

        // âš ï¸ ì¶”ê°€ ì „ ìƒíƒœ í™•ì¸
        console.log("ì¶”ê°€í•˜ê¸° ì „: ", newLi.childNodes, newLi.firstChild, newLi.lastChild); // (ìì‹ ë…¸ë“œë“¤, ì²« ë²ˆì§¸ ìì‹ ë…¸ë“œ, ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œ)
        console.log("ì¶”ê°€í•˜ê¸° ì „: ", newLi.childNodes, "(ìì‹ìš”ì†Œ)"); // li ìš”ì†Œ ì•ˆì— ìˆëŠ” ìì‹ ë…¸ë“œ ë¦¬ìŠ¤íŠ¸
        console.log("ì¶”ê°€í•˜ê¸° ì „: ", newLi.firstChild, "(ì²«ë²ˆì§¸ ìì‹)"); // ì²« ë²ˆì§¸ ìì‹ ë…¸ë“œ (ì—†ìŒ â†’ null)
        console.log("ì¶”ê°€í•˜ê¸° ì „: ", newLi.lastChild, "(ë§ˆì§€ë§‰ ìì‹)"); // ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œ (ì—†ìŒ â†’ null)
        console.log("-----");

        // âš™ï¸ í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ liì— ì¶”ê°€
        newLi.appendChild(newTxt);

        // âœ… ì¶”ê°€ í›„ ìƒíƒœ í™•ì¸
        console.log("ì¶”ê°€í•œ í›„: ", newLi.childNodes, newLi.firstChild, newLi.lastChild); // (ìì‹ ë…¸ë“œë“¤, ì²« ë²ˆì§¸ ìì‹ ë…¸ë“œ, ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œ)
        console.log("ì¶”ê°€í•œ í›„: ", newLi.childNodes, "(ìì‹ìš”ì†Œ)"); // í…ìŠ¤íŠ¸ ë…¸ë“œ "ìš°ìœ "ê°€ ë“¤ì–´ê°„ ìì‹ ë…¸ë“œ ë¦¬ìŠ¤íŠ¸
        console.log("ì¶”ê°€í•œ í›„: ", newLi.firstChild, "(ì²«ë²ˆì§¸ ìì‹)"); // ì²« ë²ˆì§¸ ìì‹ ë…¸ë“œ â†’ í…ìŠ¤íŠ¸ ë…¸ë“œ "ìš°ìœ "
        console.log("ì¶”ê°€í•œ í›„: ", newLi.lastChild, "(ë§ˆì§€ë§‰ ìì‹)"); // ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œë„ ë™ì¼ â†’ í…ìŠ¤íŠ¸ ë…¸ë“œ "ìš°ìœ "
        console.log("-----");

        // ğŸ§º ì‡¼í•‘ ëª©ë¡ì— lië¥¼ ì¶”ê°€
        shopingList.insertBefore(newLi, shopingList.firstChild);
      }
    </script>
  </head>
  <body>
    <h1>ì‡¼í•‘ëª©ë¡</h1>

    <div>
      <button type="button">ë‘ë²ˆì§¸ ì˜í™” ì°¾ê¸°</button>
      <!-- ì´ë°´íŠ¸ ë“±ë¡ ë°©ë²• 2: html ìš”ì†Œì˜ on<event> ì†ì„±ì˜ ê°’ìœ¼ë¡œ ì´ë°´íŠ¸ ë°œìƒì‹œ ì‹¤í–‰ í•  ì½”ë“œë¥¼ ë“±ë¡ -->
      <button type="button" onclick="addLastMilk();console.log('ìš°ìœ ì¶”ê°€ ì™„ë£Œ');" class="lastBtn">ë§ˆì§€ë§‰ì— ìš°ìœ  ì¶”ê°€</button>
      <button type="button" onclick="addFirstMilk();console.log('ìš°ìœ ì¶”ê°€ ì™„ë£Œ');" class="firstBtn">ë§¨ ì•ì— ìš°ìœ  ì¶”ê°€</button>
      <button type="button">ì²«ë²ˆì§¸ í•­ëª© ì‚­ì œ</button>
    </div>

    <p>ë§ˆíŠ¸ì—ì„œ ì‚¬ì•¼í•  ëª©ë¡</p>
    <ul id="purchases" class="list">
      <li>ë‘ë¶€</li>
      <li>ê³„ë€</li>
      <li>ë¼ë©´</li>
    </ul>

    <p>ë³´ê³ ì‹¶ì€ ì˜í™” ëª©ë¡</p>
    <ul id="movies" class="list">
      <li>ì–´ë°´ì ¸ìŠ¤</li>
      <li>ë‹¤í¬ë‚˜ì´íŠ¸</li>
      <li>ë¯¸ì…˜ ì„íŒŒì„œë¸”</li>
    </ul>
  </body>
</html>
